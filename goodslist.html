<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/goodslist.css">
    <link rel="stylesheet" href="./font_2tjxvl4sb8l/iconfont.css">
</head>

<body>

    <div id="nav">
        <div id="nav-wrap">
            <ul class="nav_l">
                <li class="l_na">
                    <a href="">首页</a>
                </li>
                <li>
                    <a href="">华为官网</a>
                </li>
                <li>
                    <a href="">荣耀官网</a>
                </li>
                <li>
                    <a href="">花粉俱乐部</a>
                </li>
                <li>
                    <a href="">V码(优购码)</a>
                </li>
                <li>
                    <a href="">企业购</a>
                </li>
                <li>
                    <a href="">Select Region</a>
                </li>
                <li class="nav_l1">
                    <a href="" class="">更多精彩</a>
                    <ul class="nav_l2">
                        <li>
                            <a href="">EMUI</a>
                        </li>
                        <li>
                            <a href="">应用市场</a>
                        </li>
                        <li>
                            <a href="">华为终端云空间</a>
                        </li>
                        <li>
                            <a href="">开发者联盟</a>
                        </li>

                    </ul>
                </li>
            </ul>
            <ul class="nav_r">
                <li>
                    <a href="">请登录</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
                <li>
                    <a href="">注册</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
                <li>
                    <a href="">我的订单</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
                <li>
                    <a href="">客户服务</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
                <li>
                    <a href="">导航服务</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
                <li>
                    <span class="iconfont icon-icon8"></span>
                    <a href="">购物车</a>
                </li>
                <img src="./img/images/q1.jpg" alt="">
            </ul>
        </div>
    </div>
    <div id="nav_shop">
        <img src="./img/SXppnESYv4K11DBxDFc2.png" alt="">
        <ul>
            <li>华为专区</li>
            <li>荣耀专区</li>
            <li>华为P40系列</li>
            <li>荣耀30系列</li>
            <li>安心居家</li>
        </ul>
        <div class="shop_search">
            <input type="text" placeholder="nova7系列">
            <a href="">
                <span class="iconfont icon-fangdajing"></span>
            </a>
        </div>
    </div>

    <div id="goods">
        <a class="goods-ss" href="">

        </a>


        <div class="goods-buy">


        </div>


    </div>
    </div>
    <div id="bor"></div>
    <div id="message">
        <div class="xiangqing">商品详情
            <em></em>
        </div>

        <div class="img-xiang">
            <img src="./img/xiang/ABB97E5DDF05ABA8A49ACE89573EDCE08B8C27FF95AD0BF8.jpg" alt="">
            <img src="./img/xiang/B263E6A90BDA2F78DFCD4030944331D234BC065FF0C48A78.jpg" alt="">
            <img src="./img/xiang/CF78F419E94BEE03B902A59908784C49BAD769F766324083.jpg" alt="">
            <img src="./img/xiang/E13C4249FC4AA750A2DE2BA4C55856E974D1086468E8F1CC.jpg" alt="">
        </div>
    </div>

    <div id="footer">

        <div class="foot-server">
            <div class="foot-l">
                <ul>
                    <li>购物相关</li>
                    <li>购物指南</li>
                    <li>配送方式</li>
                    <li>支付方式</li>
                    <li>常见问题</li>
                </ul>
                <ul>
                    <li>保修与退货</li>
                    <li>保修政策</li>
                    <li>退换货流程</li>
                    <li>保修状态</li>
                    <li>配件防伪查询</li>
                </ul>
                <ul>
                    <li>维修与技术支持</li>
                    <li>购物指南</li>
                    <li>配送方式</li>
                    <li>支付方式</li>
                    <li>常见问题</li>
                </ul>
                <ul>
                    <li>特色服务</li>
                    <li>购物指南</li>
                    <li>配送方式</li>
                    <li>支付方式</li>
                    <li>常见问题</li>
                </ul>
                <ul>
                    <li>关于我们</li>
                    <li>购物指南</li>
                    <li>配送方式</li>
                    <li>支付方式</li>
                    <li>常见问题</li>
                </ul>
            </div>
            <div class="foot-r">
                <div>950805</div>
                <span>7x24小时客服热线（仅收市话费）</span>
                <div>
                    <a href="">在线客服</a>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script src="./jQuery3.2.1/jquery-3.2.1.min.js"></script>

<script>
    getData();

    function getData() {
         $.get("./php/getGoodsInfo.php", "goodsId=" + location.search.split("=")[1], function (data) {
            showData(data)
        }, "json")
    }

    function showData(data) {
         let htmlss = `
        <div class="goods-img" style="background:url(${data.goodsImg}) no-repeat;background-size: 450px 450px;">
                <div class="mirror-box"></div>
                <div class="show-box" style="
                background: url(${data.goodsImg}) no-repeat;
                "></div>
        </div>
        `;
        $("#goods .goods-ss").html(htmlss);


        let htmlstr = `
            <h3>${data.goodsName}</h3>
            <a href="">
                <p>${data.goodsDesc}</p>
            </a>
            <span>价&nbsp;&nbsp;&nbsp;&nbsp;格</span>
            <span><em>￥</em>${data.goodsPrice}</span>
            <div class="pro_skus">
                <span>选择容量</span>
                <ul>
                    <a href="javascript:void(0)">
                        <li>
                            <span>8G+256G</span>
                        </li>
                    </a>
                    <a href="javascript:void(0)">
                        <li>
                            <span>8G+256G</span>
                        </li>
                    </a>


                </ul>
            <div class="stock">
               
                    <input type="text" value="1">
                <p>
                    <a href="javascript:void(0)">+</a>
                    <a href="javascript:void(0)">-</a>
                </p>
                

                <div class="operation">
                    <a href="javascript::" class="a_1">
                        <span>加入购物车</span>
                    </a>
                    <a href="javascript::">
                        <span>加入购物车</span>
                    </a>
                </div>
            </div>
            </div>
        `;
        $("#goods .goods-buy").html(htmlstr)
        fangdajing ();

    }

    
function fangdajing(){
        
         
        let oMirrorBox = document.getElementsByClassName("mirror-box");
        let oBox = document.getElementsByClassName("goods-img");
        let oShowBox = document.getElementsByClassName("show-box");
        let boxOffsetLeft = oBox[0].offsetLeft;
        let boxOffsetTop = oBox[0].offsetTop;
    
        let mirrorWidth = oMirrorBox[0].offsetWidth;
        let mirrorHeight = oMirrorBox[0].offsetHeight;
    
       
        $("#goods .goods-img").mousemove(function (event) {
    
            let e = event || window.event;
    
    
            let left1 = e.pageX - boxOffsetLeft - mirrorWidth / 2;
            let top1 = e.pageY - boxOffsetTop - mirrorHeight / 2;
    
            if (left1 < 0) {
                left1 = 0;
            } else if (left1 + mirrorWidth > 450) {
                left1 = 450 - mirrorWidth;
            }
    
            if (top1 < 0) {
                top1 = 0;
            } else if (top1 + mirrorHeight > 450) {
                top1 = 450 - mirrorHeight;
            }
    
      
            oMirrorBox[0].style.left = left1 + "px";
            oMirrorBox[0].style.top = top1 + "px";
    
    
            oShowBox[0].style.backgroundPosition = `-${left1*2}px -${top1*2}px`;
    
        })
    
        $("#goods .goods-img").mouseenter(function () {
            $("#goods .show-box").css("display", "block")
            $("#goods .mirror-box").css("opacity", "0.3")
    
        })
        $("#goods .goods-img").mouseleave(function () {
            $("#goods .show-box").css("display", "none")
            $("#goods .mirror-box").css("opacity", "0")
        })
    
       
      
       
      }
            
    
    
    
    

     

</script>
<!-- <script src="./js/goodslist.js"></script> -->